{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Mic,MicOff,MessageCircle,Calendar,Clock,User,AlertCircle,XCircle,RefreshCw,Trash2}from'lucide-react';import{useVoiceChat}from'../hooks/useVoiceChat';import{useVoiceStore}from'../stores/voiceStore';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VoiceInterface=_ref=>{let{className=''}=_ref;const{toggleRecording,isRecording,isProcessing,connectionStatus,isConnected,error,resetConnection}=useVoiceChat();const{messages,clearMessages,currentIntent,extractedEntities,suggestions,urgencyLevel}=useVoiceStore();const[showSuggestions,setShowSuggestions]=useState(false);const[audioSupported,setAudioSupported]=useState(true);useEffect(()=>{// Check if audio recording is supported\nif(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){setAudioSupported(false);}},[]);const getConnectionStatusColor=()=>{switch(connectionStatus){case'connected':return'text-green-500';case'connecting':return'text-yellow-500';case'error':return'text-red-500';default:return'text-gray-500';}};const getConnectionStatusText=()=>{switch(connectionStatus){case'connected':return'Connected';case'connecting':return'Connecting...';case'error':return'Connection Error';default:return'Disconnected';}};const getUrgencyColor=()=>{switch(urgencyLevel){case'emergency':return'border-red-500 bg-red-50';case'high':return'border-orange-500 bg-orange-50';case'medium':return'border-yellow-500 bg-yellow-50';default:return'border-blue-200 bg-blue-50';}};const renderExtractedInfo=()=>{if(!extractedEntities||Object.keys(extractedEntities).length===0)return null;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"p-4 rounded-lg border-2 \".concat(getUrgencyColor(),\" mb-4\"),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2\"}),\"Appointment Details\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\",children:[extractedEntities.patient_name&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"w-3 h-3 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Patient:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium\",children:extractedEntities.patient_name})]}),extractedEntities.date&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-3 h-3 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium\",children:extractedEntities.date})]}),extractedEntities.time&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Time:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium\",children:extractedEntities.time})]}),extractedEntities.doctor&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"w-3 h-3 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Doctor:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium\",children:extractedEntities.doctor})]}),extractedEntities.reason&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center col-span-full\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-3 h-3 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Reason:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium\",children:extractedEntities.reason})]})]}),urgencyLevel==='emergency'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-2 bg-red-100 border border-red-300 rounded text-red-800 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Emergency:\"}),\" For urgent medical care, please call 911 or visit your nearest emergency room.\"]})]});};const renderSuggestions=()=>{if(!suggestions||suggestions.length===0)return null;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.95},className:\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"\\uD83D\\uDCA1 Helpful Suggestions:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-blue-700 flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1 h-1 rounded-full bg-blue-400 mt-2 mr-2 flex-shrink-0\"}),suggestion]},index))})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 \".concat(className),children:[/*#__PURE__*/_jsxs(motion.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:\"bg-white/80 backdrop-blur-md border-b border-blue-100 p-4 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-cyan-500 p-2 rounded-xl\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"DocTalk AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Your Voice Assistant for Medical Appointments\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full \".concat(connectionStatus==='connected'?'bg-green-400':'bg-gray-400',\" animate-pulse\")}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium \".concat(getConnectionStatusColor()),children:getConnectionStatusText()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[connectionStatus==='error'&&resetConnection&&/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:resetConnection,className:\"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors\",title:\"Reconnect\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>setShowSuggestions(!showSuggestions),className:\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\",title:\"Toggle suggestions\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:clearMessages,className:\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",title:\"Clear chat\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]}),currentIntent&&currentIntent!=='general'&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-1 rounded-full text-xs font-medium inline-flex items-center \".concat(currentIntent==='book_appointment'?'bg-green-100 text-green-800':currentIntent==='cancel_appointment'?'bg-red-100 text-red-800':currentIntent==='reschedule_appointment'?'bg-yellow-100 text-yellow-800':'bg-blue-100 text-blue-800'),children:[currentIntent==='emergency'&&/*#__PURE__*/_jsx(AlertCircle,{className:\"w-3 h-3 mr-1\"}),\"Intent: \",currentIntent.replace('_',' ').toUpperCase()]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"max-w-4xl mx-auto mt-4 px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Connection Error\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mt-1\",children:error})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto space-y-4\",children:[renderExtractedInfo(),/*#__PURE__*/_jsx(AnimatePresence,{children:(showSuggestions||urgencyLevel==='emergency')&&renderSuggestions()}),messages.length===0&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-cyan-500 p-4 rounded-full w-20 h-20 mx-auto mb-6\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-12 h-12 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Welcome to DocTalk AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6 max-w-md mx-auto\",children:\"I'm here to help you manage your medical appointments. You can book, reschedule, or cancel appointments using your voice.\"}),!audioSupported&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-yellow-600 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-800 text-sm\",children:\"Audio recording is not supported in your browser. Please use a modern browser with microphone support.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCC5 Book appointments: \\\"I need to schedule an appointment\\\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDD04 Reschedule: \\\"I need to change my appointment\\\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u274C Cancel: \\\"I want to cancel my appointment\\\"\"})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:messages.map((message,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"flex \".concat(message.type==='user'?'justify-end':'justify-start',\" mb-4\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-lg \".concat(message.type==='user'?'bg-blue-500 text-white':'bg-white border border-gray-200 text-gray-900 shadow-sm'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.content}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-1 \".concat(message.type==='user'?'text-blue-100':'text-gray-500'),children:typeof message.timestamp==='string'?format(new Date(message.timestamp),'HH:mm'):format(message.timestamp,'HH:mm')})]})},index))}),/*#__PURE__*/_jsx(AnimatePresence,{children:isProcessing&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"flex justify-start mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 text-gray-900 shadow-sm max-w-xs lg:max-w-md px-4 py-2 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Processing...\"})]})})})})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:\"bg-white/80 backdrop-blur-md border-t border-blue-100 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto flex items-center justify-center\",children:[/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:toggleRecording,disabled:!isConnected||!audioSupported||isProcessing,className:\"w-16 h-16 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg \".concat(isRecording?'bg-red-500 text-white animate-pulse':isConnected&&audioSupported?'bg-blue-500 text-white hover:bg-blue-600':'bg-gray-300 text-gray-500 cursor-not-allowed'),children:isRecording?/*#__PURE__*/_jsx(MicOff,{className:\"w-8 h-8\"}):/*#__PURE__*/_jsx(Mic,{className:\"w-8 h-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium \".concat(isRecording?'text-red-600':'text-gray-700'),children:isRecording?'Listening...':'Click to speak'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs\",children:isRecording?'Say something or click to stop':'Press and hold or click to start recording'})]})]})})]});};export default VoiceInterface;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Mic","MicOff","MessageCircle","Calendar","Clock","User","AlertCircle","XCircle","RefreshCw","Trash2","useVoiceChat","useVoiceStore","format","jsx","_jsx","jsxs","_jsxs","VoiceInterface","_ref","className","toggleRecording","isRecording","isProcessing","connectionStatus","isConnected","error","resetConnection","messages","clearMessages","currentIntent","extractedEntities","suggestions","urgencyLevel","showSuggestions","setShowSuggestions","audioSupported","setAudioSupported","navigator","mediaDevices","getUserMedia","getConnectionStatusColor","getConnectionStatusText","getUrgencyColor","renderExtractedInfo","Object","keys","length","div","initial","opacity","y","animate","concat","children","patient_name","date","time","doctor","reason","renderSuggestions","scale","exit","map","suggestion","index","button","whileHover","whileTap","onClick","title","replace","toUpperCase","message","type","content","timestamp","Date","style","animationDelay","disabled"],"sources":["D:/My projects/AI DOk/doc/frontend/src/components/VoiceInterface.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Mic, \r\n  MicOff, \r\n  Volume2, \r\n  MessageCircle, \r\n  Calendar, \r\n  Clock,\r\n  User,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n  RefreshCw,\r\n  Trash2\r\n} from 'lucide-react';\r\nimport { useVoiceChat } from '../hooks/useVoiceChat';\r\nimport { useVoiceStore } from '../stores/voiceStore';\r\nimport { format } from 'date-fns';\r\n\r\ninterface VoiceInterfaceProps {\r\n  className?: string;\r\n}\r\n\r\nconst VoiceInterface: React.FC<VoiceInterfaceProps> = ({ className = '' }) => {\r\n  const { \r\n    toggleRecording, \r\n    isRecording, \r\n    isProcessing, \r\n    connectionStatus, \r\n    isConnected,\r\n    error,\r\n    resetConnection\r\n  } = useVoiceChat();\r\n  const { \r\n    messages, \r\n    clearMessages, \r\n    currentIntent,\r\n    extractedEntities,\r\n    suggestions,\r\n    urgencyLevel\r\n  } = useVoiceStore();\r\n\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [audioSupported, setAudioSupported] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check if audio recording is supported\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      setAudioSupported(false);\r\n    }\r\n  }, []);\r\n\r\n  const getConnectionStatusColor = () => {\r\n    switch (connectionStatus) {\r\n      case 'connected': return 'text-green-500';\r\n      case 'connecting': return 'text-yellow-500';\r\n      case 'error': return 'text-red-500';\r\n      default: return 'text-gray-500';\r\n    }\r\n  };\r\n\r\n  const getConnectionStatusText = () => {\r\n    switch (connectionStatus) {\r\n      case 'connected': return 'Connected';\r\n      case 'connecting': return 'Connecting...';\r\n      case 'error': return 'Connection Error';\r\n      default: return 'Disconnected';\r\n    }\r\n  };\r\n\r\n  const getUrgencyColor = () => {\r\n    switch (urgencyLevel) {\r\n      case 'emergency': return 'border-red-500 bg-red-50';\r\n      case 'high': return 'border-orange-500 bg-orange-50';\r\n      case 'medium': return 'border-yellow-500 bg-yellow-50';\r\n      default: return 'border-blue-200 bg-blue-50';\r\n    }\r\n  };\r\n\r\n  const renderExtractedInfo = () => {\r\n    if (!extractedEntities || Object.keys(extractedEntities).length === 0) return null;\r\n\r\n    return (\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className={`p-4 rounded-lg border-2 ${getUrgencyColor()} mb-4`}\r\n      >\r\n        <h3 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\r\n          <Calendar className=\"w-4 h-4 mr-2\" />\r\n          Appointment Details\r\n        </h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\">\r\n          {extractedEntities.patient_name && (\r\n            <div className=\"flex items-center\">\r\n              <User className=\"w-3 h-3 mr-2 text-gray-500\" />\r\n              <span className=\"text-gray-600\">Patient:</span>\r\n              <span className=\"ml-1 font-medium\">{extractedEntities.patient_name}</span>\r\n            </div>\r\n          )}\r\n          {extractedEntities.date && (\r\n            <div className=\"flex items-center\">\r\n              <Calendar className=\"w-3 h-3 mr-2 text-gray-500\" />\r\n              <span className=\"text-gray-600\">Date:</span>\r\n              <span className=\"ml-1 font-medium\">{extractedEntities.date}</span>\r\n            </div>\r\n          )}\r\n          {extractedEntities.time && (\r\n            <div className=\"flex items-center\">\r\n              <Clock className=\"w-3 h-3 mr-2 text-gray-500\" />\r\n              <span className=\"text-gray-600\">Time:</span>\r\n              <span className=\"ml-1 font-medium\">{extractedEntities.time}</span>\r\n            </div>\r\n          )}\r\n          {extractedEntities.doctor && (\r\n            <div className=\"flex items-center\">\r\n              <User className=\"w-3 h-3 mr-2 text-gray-500\" />\r\n              <span className=\"text-gray-600\">Doctor:</span>\r\n              <span className=\"ml-1 font-medium\">{extractedEntities.doctor}</span>\r\n            </div>\r\n          )}\r\n          {extractedEntities.reason && (\r\n            <div className=\"flex items-center col-span-full\">\r\n              <AlertCircle className=\"w-3 h-3 mr-2 text-gray-500\" />\r\n              <span className=\"text-gray-600\">Reason:</span>\r\n              <span className=\"ml-1 font-medium\">{extractedEntities.reason}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {urgencyLevel === 'emergency' && (\r\n          <div className=\"mt-3 p-2 bg-red-100 border border-red-300 rounded text-red-800 text-sm\">\r\n            <strong>⚠️ Emergency:</strong> For urgent medical care, please call 911 or visit your nearest emergency room.\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n    );\r\n  };\r\n\r\n  const renderSuggestions = () => {\r\n    if (!suggestions || suggestions.length === 0) return null;\r\n\r\n    return (\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.95 }}\r\n        className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\"\r\n      >\r\n        <h4 className=\"text-sm font-medium text-blue-800 mb-2\">💡 Helpful Suggestions:</h4>\r\n        <ul className=\"space-y-1\">\r\n          {suggestions.map((suggestion, index) => (\r\n            <li key={index} className=\"text-sm text-blue-700 flex items-start\">\r\n              <span className=\"w-1 h-1 rounded-full bg-blue-400 mt-2 mr-2 flex-shrink-0\"></span>\r\n              {suggestion}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </motion.div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`flex flex-col h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 ${className}`}>\r\n      {/* Header */}\r\n      <motion.div\r\n        initial={{ y: -50, opacity: 0 }}\r\n        animate={{ y: 0, opacity: 1 }}\r\n        className=\"bg-white/80 backdrop-blur-md border-b border-blue-100 p-4 shadow-sm\"\r\n      >\r\n        <div className=\"max-w-4xl mx-auto flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 p-2 rounded-xl\">\r\n              <MessageCircle className=\"w-6 h-6 text-white\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-xl font-bold text-gray-900\">DocTalk AI</h1>\r\n              <p className=\"text-sm text-gray-600\">Your Voice Assistant for Medical Appointments</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-4\">\r\n            {/* Connection Status */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className={`w-2 h-2 rounded-full ${connectionStatus === 'connected' ? 'bg-green-400' : 'bg-gray-400'} animate-pulse`} />\r\n              <span className={`text-xs font-medium ${getConnectionStatusColor()}`}>\r\n                {getConnectionStatusText()}\r\n              </span>\r\n            </div>\r\n            \r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              {connectionStatus === 'error' && resetConnection && (\r\n                <motion.button\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.95 }}\r\n                  onClick={resetConnection}\r\n                  className=\"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors\"\r\n                  title=\"Reconnect\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4\" />\r\n                </motion.button>\r\n              )}\r\n              \r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={() => setShowSuggestions(!showSuggestions)}\r\n                className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                title=\"Toggle suggestions\"\r\n              >\r\n                <AlertCircle className=\"w-4 h-4\" />\r\n              </motion.button>\r\n              \r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={clearMessages}\r\n                className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                title=\"Clear chat\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Intent & Urgency Indicator */}\r\n        {currentIntent && currentIntent !== 'general' && (\r\n          <div className=\"max-w-4xl mx-auto mt-3\">\r\n            <div className={`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center ${\r\n              currentIntent === 'book_appointment' ? 'bg-green-100 text-green-800' :\r\n              currentIntent === 'cancel_appointment' ? 'bg-red-100 text-red-800' :\r\n              currentIntent === 'reschedule_appointment' ? 'bg-yellow-100 text-yellow-800' :\r\n              'bg-blue-100 text-blue-800'\r\n            }`}>\r\n              {currentIntent === 'emergency' && <AlertCircle className=\"w-3 h-3 mr-1\" />}\r\n              Intent: {currentIntent.replace('_', ' ').toUpperCase()}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n\r\n      {/* Error Display */}\r\n      <AnimatePresence>\r\n        {error && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n            className=\"max-w-4xl mx-auto mt-4 px-4\"\r\n          >\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start\">\r\n                <XCircle className=\"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0\" />\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-red-800\">Connection Error</h3>\r\n                  <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Chat Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4\">\r\n        <div className=\"max-w-4xl mx-auto space-y-4\">\r\n          \r\n          {/* Extracted Information */}\r\n          {renderExtractedInfo()}\r\n          \r\n          {/* Suggestions */}\r\n          <AnimatePresence>\r\n            {(showSuggestions || urgencyLevel === 'emergency') && renderSuggestions()}\r\n          </AnimatePresence>\r\n          \r\n          {/* Welcome Message */}\r\n          {messages.length === 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"text-center py-12\"\r\n            >\r\n              <div className=\"bg-gradient-to-r from-blue-500 to-cyan-500 p-4 rounded-full w-20 h-20 mx-auto mb-6\">\r\n                <MessageCircle className=\"w-12 h-12 text-white\" />\r\n              </div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Welcome to DocTalk AI</h2>\r\n              <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">\r\n                I'm here to help you manage your medical appointments. You can book, reschedule, or cancel appointments using your voice.\r\n              </p>\r\n              {!audioSupported && (\r\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\r\n                  <AlertCircle className=\"w-5 h-5 text-yellow-600 mx-auto mb-2\" />\r\n                  <p className=\"text-yellow-800 text-sm\">\r\n                    Audio recording is not supported in your browser. Please use a modern browser with microphone support.\r\n                  </p>\r\n                </div>\r\n              )}\r\n              <div className=\"space-y-2 text-sm text-gray-500\">\r\n                <p>📅 Book appointments: \"I need to schedule an appointment\"</p>\r\n                <p>🔄 Reschedule: \"I need to change my appointment\"</p>\r\n                <p>❌ Cancel: \"I want to cancel my appointment\"</p>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Messages */}\r\n          <AnimatePresence>\r\n            {messages.map((message, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'} mb-4`}\r\n              >\r\n                <div\r\n                  className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                    message.type === 'user'\r\n                      ? 'bg-blue-500 text-white'\r\n                      : 'bg-white border border-gray-200 text-gray-900 shadow-sm'\r\n                  }`}\r\n                >\r\n                  <p className=\"text-sm\">{message.content}</p>\r\n                  \r\n                  <div className={`text-xs mt-1 ${message.type === 'user' ? 'text-blue-100' : 'text-gray-500'}`}>\r\n                    {typeof message.timestamp === 'string' \r\n                      ? format(new Date(message.timestamp), 'HH:mm')\r\n                      : format(message.timestamp, 'HH:mm')\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </AnimatePresence>\r\n          \r\n          {/* Processing Indicator */}\r\n          <AnimatePresence>\r\n            {isProcessing && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"flex justify-start mb-4\"\r\n              >\r\n                <div className=\"bg-white border border-gray-200 text-gray-900 shadow-sm max-w-xs lg:max-w-md px-4 py-2 rounded-lg\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"flex space-x-1\">\r\n                      <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"></div>\r\n                      <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                      <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-600\">Processing...</span>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Voice Control */}\r\n      <motion.div\r\n        initial={{ y: 50, opacity: 0 }}\r\n        animate={{ y: 0, opacity: 1 }}\r\n        className=\"bg-white/80 backdrop-blur-md border-t border-blue-100 p-4\"\r\n      >\r\n        <div className=\"max-w-4xl mx-auto flex items-center justify-center\">\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            onClick={toggleRecording}\r\n            disabled={!isConnected || !audioSupported || isProcessing}\r\n            className={`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ${\r\n              isRecording\r\n                ? 'bg-red-500 text-white animate-pulse'\r\n                : isConnected && audioSupported\r\n                ? 'bg-blue-500 text-white hover:bg-blue-600'\r\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            {isRecording ? (\r\n              <MicOff className=\"w-8 h-8\" />\r\n            ) : (\r\n              <Mic className=\"w-8 h-8\" />\r\n            )}\r\n          </motion.button>\r\n          \r\n          <div className=\"ml-4 text-sm\">\r\n            <p className={`font-medium ${isRecording ? 'text-red-600' : 'text-gray-700'}`}>\r\n              {isRecording ? 'Listening...' : 'Click to speak'}\r\n            </p>\r\n            <p className=\"text-gray-500 text-xs\">\r\n              {isRecording ? 'Say something or click to stop' : 'Press and hold or click to start recording'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceInterface;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}